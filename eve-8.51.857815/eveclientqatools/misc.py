#Embedded file name: eveclientqatools\misc.py
import trinity
import carbonui.const as uiconst
import uicontrols
import uiprimitives
import uiutil
from carbonui.control.slider import Slider

def TestGammaSlider():
    winID = 'TestGammaSlider_windID'
    uicontrols.Window.CloseIfOpen(windowID=winID)
    wnd = uicontrols.Window.Open(windowID=winID)
    wnd.SetTopparentHeight(0)
    wnd.SetMinSize([300, 50])
    wnd.SetCaption('Gamma slider PROTOTYPE')
    mainCont = uiprimitives.Container(name='mainCont', parent=uiutil.GetChild(wnd, 'main'), align=uiconst.CENTER, state=uiconst.UI_NORMAL, width=200, height=10)
    gammaSlider = Slider(name='gammaSlider', parent=mainCont, minValue=0.5, maxValue=1.5, startValue=1.0, onsetvaluefunc=OnMySliderMoved, endsliderfunc=OnMySliderReleased)
    currentVal = trinity.settings.GetValue('eveSpaceSceneGammaBrightness')
    gammaSlider.SetValue(currentVal, True)


def OnMySliderMoved(slider):
    print 'MOVE' + str(slider.GetValue())
    trinity.settings.SetValue('eveSpaceSceneGammaBrightness', slider.GetValue())


def OnMySliderReleased(slider):
    print 'RELEASE' + str(slider.GetValue())
    trinity.settings.SetValue('eveSpaceSceneGammaBrightness', slider.GetValue())


def CubeOfDeath(*args):
    s = sm.GetService('slash').SlashCmd
    bp = sm.GetService('michelle').GetBallpark()
    winID = 'CubeOfDeath_windID'
    uicontrols.Window.CloseIfOpen(windowID=winID)
    wnd = uicontrols.Window.Open(windowID=winID)
    wnd.SetTopparentHeight(0)
    wnd.SetMinSize([200, 150])
    wnd.SetCaption('Cube of Death')
    buttonBox = uiprimitives.Container(name='buttonBox', parent=uiutil.GetChild(wnd, 'main'), align=uiconst.TOBOTTOM, pos=(0, 0, 0, 40))
    selectionBox = uiprimitives.Container(name='selectionBox', parent=uiutil.GetChild(wnd, 'main'), align=uiconst.TOALL, pos=(0, 0, 0, 0))
    testOptions = [('classic cube of death', 1),
     ('capital wrecks of death', 2),
     ('AmarrCube', 3),
     ('CaldariCube', 4),
     ('GallenteCube', 5),
     ('MinmatarCube', 6),
     ('Add More Here', 10)]
    testCombo = uicontrols.Combo(parent=selectionBox, name=u'testCombo', label=u'Test', align=uiconst.CENTER, pos=(0, 0, 200, 200), options=testOptions)
    whereCheckbox = uicontrols.Checkbox(parent=selectionBox, name=u'whereCheckbox', text=u'Stay where you are', align=uiconst.CENTERTOP, pos=(0, 0, 200, 200), checked=False)

    def SpawnShips(startPos, typeIdList, gridSize, gridDistance):
        yCount = 0
        xPos = startPos[0]
        for cntr in xrange(gridSize * gridSize):
            typeId = typeIdList[cntr % len(typeIdList)]
            if yCount >= gridSize:
                xPos += gridDistance
                yCount = 0
            for zCount in xrange(gridSize):
                s('/spawn %s pos=%s,%s,%s' % (typeId,
                 xPos,
                 yCount * gridDistance + startPos[1],
                 zCount * gridDistance + startPos[2]))

            yCount += 1

    def Spawn(*args):
        numOfRows = 10
        distanceBetweenShips = 1000.0
        testID = testCombo.GetValue()
        if testID == 1:
            lst = [638,
             639,
             640,
             641,
             642,
             643,
             644,
             645,
             4005,
             11936,
             11938,
             13202,
             17636,
             17726,
             17728,
             17732,
             17736,
             17738,
             17740,
             17918,
             17920,
             24688,
             24690,
             24692,
             24694,
             26840,
             26842,
             32305,
             32307,
             32309,
             32311,
             620,
             621,
             622,
             623,
             624,
             625,
             626,
             627,
             628,
             629,
             630,
             631,
             632,
             633,
             634,
             635,
             2006,
             11011,
             17634,
             17709,
             17713,
             17715,
             17718,
             17720,
             17722,
             17843,
             17922,
             29336,
             29337,
             29340,
             29344,
             16236,
             16238,
             16240,
             16242,
             648,
             649,
             650,
             651,
             652,
             653,
             654,
             655,
             656,
             657,
             1944,
             2863,
             2998,
             19744,
             582,
             583,
             584,
             585,
             586,
             587,
             589,
             590,
             591,
             592,
             593,
             594,
             597,
             598,
             599,
             602,
             603,
             605,
             607,
             608,
             609,
             2161,
             3532,
             3766,
             11940,
             11942,
             17619,
             17703,
             17812,
             17841,
             17924,
             17926,
             17928,
             17930,
             17932,
             29248,
             23055,
             23057,
             23059,
             23061]
        elif testID == 2:
            numOfRows = 5
            distanceBetweenShips = 7500.0
            lst = [26483,
             29034,
             26527,
             26549,
             29033,
             26505,
             29035,
             29036,
             26475,
             26497,
             26519,
             26541,
             28603,
             29639,
             26472,
             26494,
             26516,
             26538,
             26487,
             26509,
             26531,
             26553,
             3260,
             26490,
             26512,
             26534,
             26556]
        elif testID == 3:
            lst = [589,
             590,
             591,
             596,
             597,
             615,
             624,
             625,
             628,
             642,
             643,
             1944,
             2006,
             2161,
             3514,
             3516,
             3518,
             3532,
             4302,
             11134,
             11184,
             11186,
             11188,
             11190,
             11365,
             11393,
             11567,
             11936,
             11938,
             11940,
             11942,
             11965,
             11987,
             12003,
             12017,
             12019,
             12038,
             12733,
             12753,
             16233,
             16236,
             17703,
             17709,
             17718,
             17726,
             17736,
             17920,
             17922,
             17924,
             17926,
             19720,
             19744,
             20125,
             20183,
             22428,
             22448,
             22452,
             22474,
             23757,
             23919,
             24692,
             24696,
             28659,
             28850,
             29248,
             29337,
             29986,
             32305,
             32874,
             32987,
             33079,
             33155,
             33190,
             33623,
             33625,
             33639,
             33641,
             33655,
             33657,
             33695,
             33875,
             33879]
            distanceBetweenShips = 15000.0
        elif testID == 4:
            lst = [582,
             583,
             584,
             601,
             602,
             603,
             605,
             620,
             621,
             623,
             632,
             638,
             640,
             648,
             649,
             672,
             3764,
             4005,
             4306,
             11176,
             11178,
             11192,
             11194,
             11379,
             11381,
             11957,
             11959,
             11985,
             11993,
             11995,
             12011,
             12032,
             12729,
             12731,
             16227,
             16238,
             17619,
             17634,
             17636,
             17715,
             17918,
             17930,
             19726,
             20185,
             21097,
             21628,
             22436,
             22446,
             22464,
             22470,
             23915,
             23917,
             24688,
             24698,
             26840,
             28710,
             28844,
             29340,
             29984,
             32309,
             32788,
             32790,
             32876,
             32983,
             33081,
             33153,
             33627,
             33629,
             33643,
             33645,
             33659,
             33661,
             33673,
             33675,
             33691,
             33816,
             33818,
             33820,
             33873,
             33881]
            distanceBetweenShips = 15000.0
        elif testID == 5:
            lst = [592,
             593,
             594,
             606,
             607,
             608,
             609,
             626,
             627,
             633,
             634,
             635,
             641,
             645,
             650,
             654,
             655,
             656,
             657,
             671,
             2078,
             2834,
             2836,
             4308,
             4363,
             4388,
             11011,
             11129,
             11172,
             11174,
             11200,
             11202,
             11377,
             11969,
             11971,
             11989,
             12005,
             12021,
             12023,
             12042,
             12044,
             12743,
             12745,
             13202,
             16229,
             16240,
             17722,
             17728,
             17740,
             17841,
             17843,
             17928,
             19724,
             20187,
             22430,
             22442,
             22460,
             22466,
             23911,
             23913,
             24690,
             24700,
             28661,
             28848,
             29344,
             29988,
             30842,
             32307,
             32811,
             32840,
             32842,
             32844,
             32846,
             32848,
             32872,
             32985,
             33083,
             33151,
             33468,
             33470,
             33472,
             33553,
             33635,
             33637,
             33651,
             33653,
             33667,
             33669,
             33677,
             33685,
             33687,
             33689,
             33869,
             33877]
            distanceBetweenShips = 15000.0
        elif testID == 6:
            lst = [585,
             586,
             587,
             588,
             598,
             599,
             617,
             622,
             629,
             630,
             631,
             639,
             644,
             651,
             652,
             653,
             3766,
             4310,
             11132,
             11182,
             11196,
             11198,
             11371,
             11387,
             11400,
             11961,
             11963,
             11978,
             11999,
             12013,
             12015,
             12034,
             12735,
             12747,
             16231,
             16242,
             17713,
             17720,
             17732,
             17738,
             17812,
             17932,
             19722,
             20189,
             22440,
             22444,
             22456,
             22468,
             22852,
             23773,
             24483,
             24694,
             24702,
             26842,
             28665,
             28846,
             29336,
             29990,
             32207,
             32209,
             32311,
             32878,
             32989,
             33099,
             33157,
             33395,
             33397,
             33513,
             33631,
             33633,
             33647,
             33649,
             33663,
             33665,
             33693,
             33871,
             33883]
            distanceBetweenShips = 15000.0
        elif testID == 10:
            lst = [638]
        if whereCheckbox.GetValue():
            startPos = bp.GetCurrentEgoPos()
        else:
            startPos = (2500000000000.0, 0.0, 0.0)
            s('/tr me pos=%s,%s,%s' % (startPos[0], startPos[1], startPos[2]))
        SpawnShips(startPos, lst, numOfRows, distanceBetweenShips)

    uicontrols.Button(parent=buttonBox, name=u'Spawn', label=u'Spawn', align=uiconst.CENTER, pos=(0, 0, 200, 200), func=Spawn)
